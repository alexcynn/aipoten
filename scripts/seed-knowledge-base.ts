/**
 * RAG 지식 베이스 샘플 데이터 시딩
 * 발달체크 결과 분석용 발달 이정표 지식
 * 실행: npx tsx scripts/seed-knowledge-base.ts
 */

import { PrismaClient, DevelopmentCategory } from '@prisma/client'

const prisma = new PrismaClient()

interface KnowledgeItem {
  title: string
  content: string
  category: DevelopmentCategory
  ageMin: number
  ageMax: number
}

const knowledgeData: KnowledgeItem[] = [
  // 대근육 운동 (GROSS_MOTOR)
  {
    title: '0-6개월 대근육 발달',
    content: `0-6개월 영아의 대근육 발달은 신생아 반사에서 의도적 움직임으로의 전환기입니다.

주요 발달 이정표:
- 0-2개월: 엎드린 자세에서 머리를 잠깐 들 수 있음
- 2-4개월: 팔로 체중을 지탱하며 가슴을 들어올림
- 4-6개월: 뒤집기 시작, 목을 완전히 가눔

발달 지연 신호:
- 4개월에 머리를 가누지 못함
- 6개월에 뒤집기를 전혀 시도하지 않음
- 몸이 지나치게 뻣뻣하거나 축 늘어짐

권장 활동:
- 하루 여러 번 배 위에서 놀이 시간 제공
- 아기 체조와 스트레칭
- 다양한 자세 경험 제공`,
    category: 'GROSS_MOTOR',
    ageMin: 0,
    ageMax: 6,
  },
  {
    title: '7-12개월 대근육 발달',
    content: `7-12개월 영아는 이동성이 급격히 발달하는 시기입니다.

주요 발달 이정표:
- 7-8개월: 혼자 앉기, 기어다니기 시작
- 9-10개월: 잡고 서기, 기어서 이동
- 11-12개월: 가구를 잡고 걷기, 혼자 서기 시도

발달 지연 신호:
- 9개월에 앉지 못함
- 12개월에 기어다니거나 서려는 시도가 없음
- 한쪽 몸만 사용하는 경향

권장 활동:
- 기어다닐 수 있는 안전한 공간 제공
- 잡고 일어설 수 있는 안정적인 가구 배치
- 계단 오르기 연습 (안전하게 감독)`,
    category: 'GROSS_MOTOR',
    ageMin: 7,
    ageMax: 12,
  },
  {
    title: '13-24개월 대근육 발달',
    content: `13-24개월 유아는 독립적 보행과 달리기를 습득하는 시기입니다.

주요 발달 이정표:
- 13-15개월: 혼자 걷기 시작
- 16-18개월: 안정적으로 걷기, 공 차기
- 19-24개월: 달리기, 두 발로 뛰어오르기

발달 지연 신호:
- 18개월에 혼자 걷지 못함
- 24개월에 달리지 못하거나 자주 넘어짐
- 계단 오르기를 전혀 시도하지 않음

권장 활동:
- 공놀이, 공 굴리기와 차기
- 작은 계단이나 경사로 오르내리기
- 음악에 맞춰 몸 움직이기`,
    category: 'GROSS_MOTOR',
    ageMin: 13,
    ageMax: 24,
  },

  // 소근육 운동 (FINE_MOTOR)
  {
    title: '0-6개월 소근육 발달',
    content: `0-6개월 영아의 소근육 발달은 반사적 움직임에서 의도적 잡기로 발전합니다.

주요 발달 이정표:
- 0-2개월: 손을 주먹으로 쥐고 있음
- 2-4개월: 손을 펴고 물건에 손을 뻗음
- 4-6개월: 물건을 잡고 입으로 가져감

발달 지연 신호:
- 4개월에 손을 펴지 않음
- 6개월에 물건을 잡으려 하지 않음
- 한 손만 사용하는 경향

권장 활동:
- 다양한 질감의 장난감 제공
- 딸랑이나 부드러운 공 쥐어주기
- 손바닥 마사지와 손가락 놀이`,
    category: 'FINE_MOTOR',
    ageMin: 0,
    ageMax: 6,
  },
  {
    title: '7-12개월 소근육 발달',
    content: `7-12개월 영아는 집게 잡기와 물건 탐색이 발달하는 시기입니다.

주요 발달 이정표:
- 7-8개월: 손바닥 전체로 잡기
- 9-10개월: 집게 잡기 (엄지와 검지 사용)
- 11-12개월: 물건 넣고 빼기, 페이지 넘기기

발달 지연 신호:
- 9개월에 물건을 손에서 손으로 옮기지 못함
- 12개월에 집게 잡기를 하지 못함
- 물건을 계속 떨어뜨리거나 조작하지 못함

권장 활동:
- 작은 블록이나 구슬 집기 (안전 감독 필요)
- 상자에 물건 넣고 빼기
- 그림책 페이지 넘기기 연습`,
    category: 'FINE_MOTOR',
    ageMin: 7,
    ageMax: 12,
  },
  {
    title: '13-24개월 소근육 발달',
    content: `13-24개월 유아는 정교한 손 조작 능력이 발달하는 시기입니다.

주요 발달 이정표:
- 13-15개월: 크레용으로 낙서하기
- 16-18개월: 블록 쌓기 (2-4개)
- 19-24개월: 종이 접기, 구슬 꿰기

발달 지연 신호:
- 18개월에 크레용을 쥐지 못함
- 24개월에 블록 2개를 쌓지 못함
- 숟가락 사용을 전혀 시도하지 않음

권장 활동:
- 크레용으로 그림 그리기
- 블록 쌓기와 무너뜨리기
- 큰 구슬 꿰기 놀이`,
    category: 'FINE_MOTOR',
    ageMin: 13,
    ageMax: 24,
  },

  // 인지 (COGNITIVE)
  {
    title: '0-6개월 인지 발달',
    content: `0-6개월 영아의 인지 발달은 감각 탐색과 기본적 인과관계 이해로 시작됩니다.

주요 발달 이정표:
- 0-2개월: 얼굴 응시, 소리에 반응
- 2-4개월: 움직이는 물체 추적
- 4-6개월: 숨겨진 물건 찾기 시도

발달 지연 신호:
- 4개월에 익숙한 얼굴을 알아보지 못함
- 6개월에 주변 환경에 관심이 없음
- 소리나 움직임에 반응하지 않음

권장 활동:
- 흑백 대비가 강한 그림 보여주기
- 까꿍 놀이
- 다양한 소리 들려주기`,
    category: 'COGNITIVE',
    ageMin: 0,
    ageMax: 6,
  },
  {
    title: '7-12개월 인지 발달',
    content: `7-12개월 영아는 대상 영속성과 단순한 문제 해결 능력이 발달합니다.

주요 발달 이정표:
- 7-8개월: 물체가 사라져도 존재한다는 것을 이해
- 9-10개월: 간단한 원인과 결과 이해
- 11-12개월: 간단한 지시 따르기

발달 지연 신호:
- 9개월에 숨겨진 물건을 찾지 않음
- 12개월에 간단한 제스처에 반응하지 않음
- 탐색 행동이 매우 제한적

권장 활동:
- 숨바꼭질 놀이
- 원인과 결과 장난감 (버튼 누르면 소리)
- 상자 안 물건 찾기`,
    category: 'COGNITIVE',
    ageMin: 7,
    ageMax: 12,
  },
  {
    title: '13-24개월 인지 발달',
    content: `13-24개월 유아는 상징적 사고와 모방 능력이 급격히 발달합니다.

주요 발달 이정표:
- 13-15개월: 사물의 기능 이해 (전화 흉내)
- 16-18개월: 간단한 분류 (색깔, 모양)
- 19-24개월: 상상 놀이 시작

발달 지연 신호:
- 18개월에 사물의 용도를 모름
- 24개월에 간단한 모양 맞추기를 못함
- 가장 놀이를 전혀 하지 않음

권장 활동:
- 역할 놀이 (인형 밥 먹이기)
- 모양 맞추기 퍼즐
- 색깔과 크기 구분 놀이`,
    category: 'COGNITIVE',
    ageMin: 13,
    ageMax: 24,
  },

  // 언어 (LANGUAGE)
  {
    title: '0-6개월 언어 발달',
    content: `0-6개월 영아의 언어 발달은 소리 인식과 옹알이로 시작됩니다.

주요 발달 이정표:
- 0-2개월: 소리에 반응, 울음으로 의사 표현
- 2-4개월: 웃음소리, 옹알이 시작
- 4-6개월: 다양한 소리 내기, 목소리 톤 구별

발달 지연 신호:
- 4개월에 옹알이를 하지 않음
- 6개월에 소리 나는 쪽을 보지 않음
- 감정 표현이 매우 제한적

권장 활동:
- 노래 불러주기
- 아기 말에 반응해주기
- 책 읽어주기`,
    category: 'LANGUAGE',
    ageMin: 0,
    ageMax: 6,
  },
  {
    title: '7-12개월 언어 발달',
    content: `7-12개월 영아는 의미 있는 소리와 첫 단어를 시도하는 시기입니다.

주요 발달 이정표:
- 7-8개월: '마마', '다다' 등 음절 반복
- 9-10개월: 간단한 단어 이해 ('안 돼')
- 11-12개월: 첫 단어 말하기

발달 지연 신호:
- 9개월에 옹알이가 없거나 감소함
- 12개월에 의미 있는 단어가 없음
- 제스처를 사용하지 않음

권장 활동:
- 사물 이름 반복해서 말해주기
- 손짓과 말을 함께 사용
- 그림책 보며 이야기하기`,
    category: 'LANGUAGE',
    ageMin: 7,
    ageMax: 12,
  },
  {
    title: '13-24개월 언어 발달',
    content: `13-24개월 유아는 어휘가 폭발적으로 증가하는 시기입니다.

주요 발달 이정표:
- 13-15개월: 5-10개 단어 사용
- 16-18개월: 어휘 폭발기 (50개 이상)
- 19-24개월: 2단어 조합 ('엄마 물')

발달 지연 신호:
- 18개월에 단어가 10개 미만
- 24개월에 2단어 조합을 하지 못함
- 의사소통 시도가 매우 제한적

권장 활동:
- 일상 활동 설명하기
- 책 함께 읽고 질문하기
- 노래와 손유희`,
    category: 'LANGUAGE',
    ageMin: 13,
    ageMax: 24,
  },

  // 사회성 (SOCIAL)
  {
    title: '0-6개월 사회성 발달',
    content: `0-6개월 영아의 사회성 발달은 애착 형성과 사회적 미소로 시작됩니다.

주요 발달 이정표:
- 0-2개월: 얼굴 응시
- 2-4개월: 사회적 미소, 웃음
- 4-6개월: 양육자 선호, 낯선 사람 경계

발달 지연 신호:
- 4개월에 미소를 짓지 않음
- 6개월에 눈 맞춤이 없음
- 사람에게 관심이 없음

권장 활동:
- 얼굴 맞대고 놀아주기
- 표정 따라하기
- 안아주고 스킨십하기`,
    category: 'SOCIAL',
    ageMin: 0,
    ageMax: 6,
  },
  {
    title: '7-12개월 사회성 발달',
    content: `7-12개월 영아는 분리 불안과 사회적 참조가 발달하는 시기입니다.

주요 발달 이정표:
- 7-8개월: 낯가림, 분리 불안
- 9-10개월: 사회적 참조 (양육자 표정 확인)
- 11-12개월: 간단한 사회적 게임 (까꿍)

발달 지연 신호:
- 9개월에 양육자와의 애착이 없음
- 12개월에 사회적 게임에 관심이 없음
- 눈 맞춤과 미소가 매우 제한적

권장 활동:
- 까꿍 놀이
- 간단한 주고받기 놀이
- 다른 아기들과 놀이 관찰`,
    category: 'SOCIAL',
    ageMin: 7,
    ageMax: 12,
  },
  {
    title: '13-24개월 사회성 발달',
    content: `13-24개월 유아는 독립성과 또래 관심이 발달하는 시기입니다.

주요 발달 이정표:
- 13-15개월: 독립적 놀이 선호
- 16-18개월: 또래에게 관심, 모방 놀이
- 19-24개월: 평행 놀이, 간단한 협동

발달 지연 신호:
- 18개월에 다른 아이에게 관심이 없음
- 24개월에 다른 사람 모방을 하지 않음
- 사회적 상호작용을 피함

권장 활동:
- 또래와의 놀이 시간
- 역할 놀이
- 순서 지키기 연습`,
    category: 'SOCIAL',
    ageMin: 13,
    ageMax: 24,
  },

  // 추가 월령대 (25-36개월)
  {
    title: '25-36개월 대근육 발달',
    content: `25-36개월 유아는 균형 감각과 협응력이 크게 향상되는 시기입니다.

주요 발달 이정표:
- 25-30개월: 한 발로 서기, 세발자전거 타기
- 31-36개월: 공 받기, 균형 잡고 걷기

발달 지연 신호:
- 30개월에 계단을 한 발씩 올라가지 못함
- 36개월에 달리거나 뛰는 것이 매우 서투름

권장 활동:
- 세발자전거나 킥보드
- 공 던지고 받기
- 놀이터 놀이기구 이용`,
    category: 'GROSS_MOTOR',
    ageMin: 25,
    ageMax: 36,
  },
  {
    title: '25-36개월 소근육 발달',
    content: `25-36개월 유아는 도구 사용과 그리기 능력이 발달하는 시기입니다.

주요 발달 이정표:
- 25-30개월: 선 그리기, 가위로 자르기 시도
- 31-36개월: 원 그리기, 블록으로 구조물 만들기

발달 지연 신호:
- 30개월에 크레용을 제대로 쥐지 못함
- 36개월에 블록 탑을 쌓지 못함

권장 활동:
- 그림 그리기
- 점토 놀이
- 가위질 연습 (안전 가위)`,
    category: 'FINE_MOTOR',
    ageMin: 25,
    ageMax: 36,
  },
  {
    title: '25-36개월 인지 발달',
    content: `25-36개월 유아는 개념 이해와 문제 해결 능력이 발달하는 시기입니다.

주요 발달 이정표:
- 25-30개월: 색깔과 모양 구분
- 31-36개월: 숫자 3까지 세기, 간단한 퍼즐 (4-6조각)

발달 지연 신호:
- 30개월에 색깔을 전혀 구분하지 못함
- 36개월에 1-2-3을 세지 못함

권장 활동:
- 분류 놀이
- 간단한 퍼즐
- 숫자와 색깔 카드 놀이`,
    category: 'COGNITIVE',
    ageMin: 25,
    ageMax: 36,
  },
  {
    title: '25-36개월 언어 발달',
    content: `25-36개월 유아는 문장 구성과 대화 능력이 발달하는 시기입니다.

주요 발달 이정표:
- 25-30개월: 3-4단어 문장
- 31-36개월: 간단한 대화, 질문하기

발달 지연 신호:
- 30개월에 2단어 조합도 하지 못함
- 36개월에 문장을 거의 사용하지 않음

권장 활동:
- 일상 대화 많이 하기
- 이야기 들려주고 질문하기
- 노래 부르기`,
    category: 'LANGUAGE',
    ageMin: 25,
    ageMax: 36,
  },
  {
    title: '25-36개월 사회성 발달',
    content: `25-36개월 유아는 또래 놀이와 감정 조절이 발달하는 시기입니다.

주요 발달 이정표:
- 25-30개월: 짧은 시간 협동 놀이
- 31-36개월: 차례 지키기, 간단한 규칙 이해

발달 지연 신호:
- 30개월에 또래와 전혀 놀지 않음
- 36개월에 공유하거나 차례를 지키지 못함

권장 활동:
- 또래와의 집단 놀이
- 역할 놀이
- 감정 표현 연습`,
    category: 'SOCIAL',
    ageMin: 25,
    ageMax: 36,
  },
]

async function seedKnowledgeBase() {
  console.log('🌱 RAG 지식 베이스 초기화 시작...\n')

  try {
    // 기존 데이터 삭제
    console.log('📝 기존 데이터 삭제 중...')
    await prisma.knowledgeBase.deleteMany({})
    console.log('✅ 기존 데이터 삭제 완료\n')

    // 새 데이터 생성
    console.log('📝 발달 이정표 지식 생성 중...')
    let createdCount = 0

    for (const item of knowledgeData) {
      await prisma.knowledgeBase.create({
        data: item,
      })
      createdCount++
      console.log(`   ✓ ${item.title}`)
    }

    console.log(`\n✅ 총 ${createdCount}개의 지식 항목이 생성되었습니다.\n`)

    // 통계 출력
    console.log('📊 카테고리별 통계:')
    const stats = await prisma.knowledgeBase.groupBy({
      by: ['category'],
      _count: true,
    })

    const categoryLabels: Record<string, string> = {
      GROSS_MOTOR: '대근육 운동',
      FINE_MOTOR: '소근육 운동',
      COGNITIVE: '인지',
      LANGUAGE: '언어',
      SOCIAL: '사회성',
    }

    for (const stat of stats) {
      console.log(`   ${categoryLabels[stat.category]}: ${stat._count}개`)
    }

    console.log('\n🎉 RAG 지식 베이스 초기화가 완료되었습니다!')
    console.log('\n📝 관리자 페이지에서 확인하세요:')
    console.log('   http://localhost:3000/admin/knowledge-base')
  } catch (error) {
    console.error('❌ 오류 발생:', error)
  } finally {
    await prisma.$disconnect()
  }
}

seedKnowledgeBase()
